import{j as e,L as s,f as a,r as t}from"./react-vendor-D6vaw4E_.js";import{e as n,d as r}from"./index-BZZsyLrt.js";import{u as i,a as l}from"./useLearnContent-QY1Yfxpa.js";import{B as o}from"./Badge-DLWuO9O4.js";import{a as d}from"./useSpacedRepetition-CBHG1iMd.js";import"./vendor-BKIB45Nt.js";import"./data-vendor-CRo3OXJP.js";const c=({progress:s,discoveredCount:a,totalCount:t})=>e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Learning Progress"}),e.jsxs("span",{children:[Math.round(s),"% (",a," / ",t," terms)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${s}%`}})})]}),h=({birds:s,selectedBird:a,onBirdSelect:t})=>e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex flex-wrap gap-2 bg-white p-2 rounded-lg shadow-sm",children:s.map(s=>e.jsxs("button",{onClick:()=>t(s),className:"px-4 py-2 rounded-lg font-medium transition-all "+(a.id===s.id?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.jsx("span",{className:"block text-xs opacity-75",children:s.name}),e.jsx("span",{children:s.spanishName})]},s.id))})}),m=({imageUrl:s,altText:a,annotations:t,discoveredTerms:r,hoveredAnnotation:i,onAnnotationHover:l,onAnnotationClick:o})=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s,alt:a,className:"w-full rounded-lg",onError:e=>{n("Image failed to load",{imageUrl:s}),e.currentTarget.onerror=null,e.currentTarget.src="https://images.unsplash.com/photo-1444464666168-49d633b86797?w=800&h=600&fit=crop&q=80"}}),t.map(s=>e.jsxs("div",{className:"absolute cursor-pointer transform -translate-x-1/2 -translate-y-1/2",style:{left:`${s.x}%`,top:`${s.y}%`},onMouseEnter:()=>l(s.id),onMouseLeave:()=>l(null),onClick:()=>o(s),children:[e.jsxs("div",{className:"relative "+(r.has(s.id)?"":"animate-pulse"),children:[e.jsx("div",{className:`w-8 h-8 rounded-full border-3 ${r.has(s.id)?"bg-green-500 border-green-600":"bg-blue-500 border-blue-600"} opacity-75`}),r.has(s.id)&&e.jsx("svg",{className:"absolute inset-0 w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),i===s.id&&e.jsxs("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-3 py-2 rounded-lg whitespace-nowrap z-10",children:[e.jsx("div",{className:"text-sm font-bold",children:s.term}),e.jsx("div",{className:"text-xs opacity-90",children:s.english}),e.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:e.jsx("div",{className:"border-8 border-transparent border-t-gray-900"})})]})]},s.id))]}),x=({selectedAnnotation:a,birdAnnotations:t,birdName:n,discoveredTerms:r})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Vocabulary Details"}),a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.term}),e.jsx("p",{className:"text-sm text-gray-500 italic mt-1",children:a.pronunciation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"English:"}),e.jsx("p",{className:"text-lg font-medium",children:a.english})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Description:"}),e.jsx("p",{className:"text-sm text-gray-700",children:a.description})]}),e.jsx(s,{to:"/practice",className:"block w-full text-center bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors",children:"Practice This Term"})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsxs("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("p",{children:"Click on a highlighted area to see details"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("h3",{className:"font-semibold mb-3",children:["Terms for ",n,":"]}),e.jsx("div",{className:"space-y-2",children:t.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded "+(r.has(s.id)?"bg-green-50 text-green-700":"bg-gray-50 text-gray-400"),children:[e.jsx("span",{className:"text-sm",children:s.term}),r.has(s.id)&&e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]},s.id))})]})]}),g=({level:s})=>{const a={1:"bg-green-100 text-green-800",2:"bg-blue-100 text-blue-800",3:"bg-yellow-100 text-yellow-800",4:"bg-orange-100 text-orange-800",5:"bg-red-100 text-red-800"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a[s]||a[1]}`,children:{1:"Beginner",2:"Elementary",3:"Intermediate",4:"Advanced",5:"Expert"}[s]||"Beginner"})},u=({progress:s})=>e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,s))}%`}})}),p=({selectedModuleId:s,onModuleSelect:a,userProgress:t={}})=>{const{data:n=[],isLoading:r,error:l}=i();if(r)return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(s=>e.jsx("div",{className:"h-20 bg-gray-100 rounded"},s))})]})});if(l)return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("p",{className:"text-red-600",children:"Failed to load learning paths. Please try again."})});const o=[...n].sort((e,s)=>{const a=t[e.id]||0,n=t[s.id]||0;return a<100&&n>=100?-1:n<100&&a>=100?1:e.difficultyLevel-s.difficultyLevel}),d=o.find(e=>(t[e.id]||0)<100);return e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Learning Paths"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choose a module to start learning"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:0===o.length?e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e.jsx("p",{children:"No learning paths available yet."}),e.jsx("p",{className:"text-sm mt-1",children:"Check back soon for new content!"})]}):o.map(n=>{const r=t[n.id]||0,i=n.id===s,l=n.id===d?.id,o=r>=100;return e.jsx("button",{onClick:()=>a(n),className:"w-full p-4 text-left transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset "+(i?"bg-blue-50 border-l-4 border-blue-600":""),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:n.titleSpanish}),l&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Recommended"}),o&&e.jsx("span",{className:"text-green-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:n.title}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx(g,{level:n.difficultyLevel}),e.jsxs("span",{className:"text-xs text-gray-500",children:[n.contentCount," terms"]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(r),"%"]})]}),e.jsx(u,{progress:r})]})]}),e.jsx("svg",{className:"w-5 h-5 ml-3 flex-shrink-0 "+(i?"text-blue-600":"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},n.id)})}),n.length>0&&e.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[n.length," paths available"]}),e.jsxs("span",{children:[Object.values(t).filter(e=>e>=100).length," completed"]})]})})]})},b=({dueCount:s,upcomingReviews:a,nextReviewDate:t,isLoading:n=!1})=>n?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"Review Schedule"]}),s>0&&e.jsxs(o,{variant:"warning",size:"md",children:[s," due now"]})]}),e.jsxs("div",{className:"space-y-3",children:[s>0?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Ready to review"})]}),e.jsx("span",{className:"text-lg font-bold text-orange-600",children:s})]}):e.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:"All caught up!"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Next 24 hours"}),e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[a.next24h.length," term",1!==a.next24h.length?"s":""]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Next 7 days"}),e.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:[a.next7d.length," term",1!==a.next7d.length?"s":""]})]}),t&&e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsxs("span",{children:["Next review: ",e.jsx("strong",{className:"text-gray-900",children:(e=>{if(!e)return"No reviews scheduled";const s=new Date,a=e.getTime()-s.getTime(),t=Math.floor(a/6e4),n=Math.floor(a/36e5),r=Math.floor(a/864e5);return t<60?`in ${t} minute${1!==t?"s":""}`:n<24?`in ${n} hour${1!==n?"s":""}`:1===r?"tomorrow":r<7?`in ${r} days`:e.toLocaleDateString()})(t)})]})]})})]}),e.jsx("p",{className:"mt-4 text-xs text-gray-500 italic",children:"Reviews are scheduled based on your performance using spaced repetition algorithm"})]}),j=[{id:"flamingo",name:"Greater Flamingo",spanishName:"Flamenco ComÃºn",imageUrl:"https://images.unsplash.com/photo-1535821265819-8e7ff3c30737?w=800",annotations:[{id:"f1",term:"el pico curvado",english:"curved beak",pronunciation:"el PEE-koh koor-VAH-doh",x:35,y:25,description:"Specialized for filter feeding"},{id:"f2",term:"las patas largas",english:"long legs",pronunciation:"lahs PAH-tahs LAHR-gahs",x:45,y:70,description:"For wading in shallow water"},{id:"f3",term:"las plumas rosadas",english:"pink feathers",pronunciation:"lahs PLOO-mahs roh-SAH-dahs",x:50,y:45,description:"Color comes from their diet"}]},{id:"eagle",name:"Golden Eagle",spanishName:"Ãguila Real",imageUrl:"https://images.unsplash.com/photo-1611689342806-0863700ce1e4?w=800",annotations:[{id:"e1",term:"las garras afiladas",english:"sharp talons",pronunciation:"lahs GAH-rrahs ah-fee-LAH-dahs",x:50,y:75,description:"Powerful for catching prey"},{id:"e2",term:"los ojos penetrantes",english:"piercing eyes",pronunciation:"lohs OH-hohs peh-neh-TRAHN-tehs",x:40,y:30,description:"Incredible vision for hunting"},{id:"e3",term:"las alas extendidas",english:"spread wings",pronunciation:"lahs AH-lahs eks-tehn-DEE-dahs",x:65,y:50,description:"Wingspan up to 2.3 meters"}]},{id:"hummingbird",name:"Ruby-throated Hummingbird",spanishName:"ColibrÃ­ Garganta de RubÃ­",imageUrl:"https://images.unsplash.com/photo-1552728089-57bdde30beb3?w=800",annotations:[{id:"h1",term:"el pico largo",english:"long beak",pronunciation:"el PEE-koh LAHR-goh",x:25,y:40,description:"Perfect for reaching nectar"},{id:"h2",term:"las alas rÃ¡pidas",english:"rapid wings",pronunciation:"lahs AH-lahs RAH-pee-dahs",x:55,y:45,description:"Beat 80 times per second"},{id:"h3",term:"la garganta roja",english:"red throat",pronunciation:"lah gahr-GAHN-tah ROH-hah",x:35,y:35,description:"Males have iridescent red throat"}]},{id:"peacock",name:"Indian Peafowl",spanishName:"Pavo Real",imageUrl:"https://images.unsplash.com/photo-1512990641230-7e91cc31d0dc?w=800",annotations:[{id:"p1",term:"la cola desplegada",english:"displayed tail",pronunciation:"lah KOH-lah dehs-pleh-GAH-dah",x:60,y:50,description:"Courtship display with eye spots"},{id:"p2",term:"la cresta azul",english:"blue crest",pronunciation:"lah KREHS-tah ah-SOOL",x:30,y:25,description:"Crown of feathers on head"},{id:"p3",term:"el cuello iridiscente",english:"iridescent neck",pronunciation:"el KWEH-yoh ee-ree-dee-SEHN-teh",x:35,y:35,description:"Shimmers with blue and green"}]},{id:"owl",name:"Great Horned Owl",spanishName:"BÃºho Cornudo",imageUrl:"https://images.unsplash.com/photo-1557401751-376608588678?w=800",annotations:[{id:"o1",term:"los cuernos de plumas",english:"feather horns",pronunciation:"lohs KWEHR-nohs deh PLOO-mahs",x:45,y:20,description:"Not real horns, just feather tufts"},{id:"o2",term:"los ojos grandes",english:"large eyes",pronunciation:"lohs OH-hohs GRAHN-dehs",x:45,y:35,description:"Excellent night vision"},{id:"o3",term:"las garras fuertes",english:"strong talons",pronunciation:"lahs GAH-rrahs FWEHR-tehs",x:45,y:80,description:"Grip strength of 300 PSI"}]}],v=()=>{const[n,o]=a(),g=n.get("moduleId")||void 0,[u,v]=t.useState(g),[f,N]=t.useState(0),[y,w]=t.useState(new Set),[k,C]=t.useState(null),[L,R]=t.useState(null),{data:B=[],isLoading:H,error:A}=l({moduleId:u,limit:500}),{data:M=[]}=i(),{markDiscovered:S,dueCount:z,upcomingReviews:E,nextReviewDate:P,isLoading:T}=d(),I=t.useMemo(()=>{if(!B.length)return j;const e=B.reduce((e,s)=>{if(e[s.imageUrl]||(e[s.imageUrl]={id:s.imageId,name:s.speciesName||"Bird Species",spanishName:s.speciesName||"Ave",imageUrl:s.imageUrl,annotations:[]}),!s.boundingBox||"number"!=typeof s.boundingBox.width||"number"!=typeof s.boundingBox.height)return e;let a,t;if(s.boundingBox.topLeft&&"number"==typeof s.boundingBox.topLeft.x)a=s.boundingBox.topLeft.x,t=s.boundingBox.topLeft.y;else{if("number"!=typeof s.boundingBox.x)return e;a=s.boundingBox.x,t=s.boundingBox.y}const n=100*(a+s.boundingBox.width/2),r=100*(t+s.boundingBox.height/2);return e[s.imageUrl].annotations.push({id:s.id,term:s.spanishTerm,english:s.englishTerm,pronunciation:s.pronunciation||"",x:n,y:r,description:`${s.type} feature`}),e},{});return Object.values(e)},[B]),U=I[f]||j[0];t.useEffect(()=>{o(u?{moduleId:u}:{})},[u,o]);const O=I.reduce((e,s)=>e+s.annotations.length,0),$=O>0?y.size/O*100:0;return H?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 h-96 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]})]})})}):A&&!I.length?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Failed to Load Content"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't load the learning content. Please try again later."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Interactive Bird Learning"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Click on the highlighted areas to learn Spanish bird vocabulary"}),e.jsx(c,{progress:$,discoveredCount:y.size,totalCount:O}),e.jsx("div",{className:"mt-6",children:e.jsx(b,{dueCount:z,upcomingReviews:E,nextReviewDate:P,isLoading:T})})]}),M.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx(p,{selectedModuleId:u,onModuleSelect:e=>{v(e.id),N(0),w(new Set),R(null)},userProgress:{}})}),e.jsx(h,{birds:I,selectedBird:U,onBirdSelect:e=>{const s=I.findIndex(s=>s.id===e.id);N(s>=0?s:0),R(null)}}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[e.jsx(m,{imageUrl:U.imageUrl,altText:U.name,annotations:U.annotations,discoveredTerms:y,hoveredAnnotation:k,onAnnotationHover:C,onAnnotationClick:async e=>{R(e),w(s=>new Set([...s,e.id]));try{await S(e.id)}catch(s){r("Could not track discovered term",{annotationId:e.id,error:s})}}}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:U.spanishName}),e.jsx("p",{className:"text-gray-600",children:U.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click the blue dots to discover vocabulary!"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(x,{selectedAnnotation:L,birdAnnotations:U.annotations,birdName:U.spanishName,discoveredTerms:y})})]}),y.size>0&&y.size%5==0&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg shadow-xl p-4 max-w-sm animate-bounce",children:[e.jsx("p",{className:"font-bold text-lg mb-1",children:"ðŸŽ‰ Milestone Reached!"}),e.jsxs("p",{className:"text-sm",children:["You've discovered ",y.size," terms!"]}),e.jsx(s,{to:"/practice",className:"inline-block mt-2 bg-white text-blue-600 px-4 py-2 rounded font-semibold hover:bg-blue-50 transition-colors",children:"Practice Now â†’"})]})]})})};export{v as EnhancedLearnPage};
