import{j as e}from"./index-D99aAhUI.js";import{r,L}from"./react-vendor-DDsanEFO.js";const U=({score:a,accuracy:c,streak:l,totalAttempts:u})=>e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a}),e.jsx("p",{className:"text-sm text-gray-600",children:"Correct"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Accuracy"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l}),e.jsx("p",{className:"text-sm text-gray-600",children:"Streak"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:u}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})]}),M=({type:a,question:c,imageUrl:l,translation:u,options:h,selectedAnswer:p,correctAnswer:i,showFeedback:n,explanation:v,onAnswer:b})=>{const o=t=>n&&t===i?"bg-green-500 text-white":n&&t===p&&t!==i?"bg-red-500 text-white":p===t?"bg-blue-500 text-white":"bg-white border-2 border-gray-300 hover:border-blue-400";return a==="visual_match"?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-center",children:c}),l&&e.jsx("img",{src:l,alt:"Bird to identify",className:"w-full max-w-md mx-auto rounded-lg shadow-md"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(t=>e.jsx("button",{onClick:()=>!n&&b(t),disabled:n,className:`p-4 rounded-lg font-medium transition-all ${o(t)}`,children:t},t))})]}):a==="fill_blank"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:c}),u&&e.jsx("p",{className:"text-gray-600 italic",children:u})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:h.map(t=>e.jsx("button",{onClick:()=>!n&&b(t),disabled:n,className:`p-3 rounded-lg font-medium transition-all ${o(t)}`,children:t},t))})]}):a==="multiple_choice"?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-semibold text-center",children:c}),e.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:h.map(t=>e.jsx("button",{onClick:()=>!n&&b(t),disabled:n,className:`w-full p-4 text-left rounded-lg font-medium transition-all ${o(t)}`,children:t},t))}),n&&v&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg text-center",children:e.jsx("p",{className:"text-sm text-blue-700",children:v})})]}):null},P=({isCorrect:a,correctAnswer:c})=>e.jsx("div",{className:`mt-6 p-4 rounded-lg text-center ${a?"bg-green-100":"bg-red-100"}`,children:e.jsx("p",{className:`text-lg font-bold ${a?"text-green-700":"text-red-700"}`,children:a?"¡Excelente! Correct!":`Not quite. The answer was: ${c}`})}),N={VISUAL_MATCH:"visual_match",FILL_BLANK:"fill_blank",MULTIPLE_CHOICE:"multiple_choice",LISTENING:"listening"},m={visual_match:[{question:"Match the image to the Spanish name",correctAnswer:"Flamenco",imageUrl:"https://images.unsplash.com/photo-1535821265819-8e7ff3c30737?w=400",options:["Flamenco","Águila","Colibrí","Búho"]},{question:"Which bird is this?",correctAnswer:"Pavo Real",imageUrl:"https://images.unsplash.com/photo-1512990641230-7e91cc31d0dc?w=400",options:["Gorrión","Pavo Real","Paloma","Cuervo"]},{question:"Identify this bird",correctAnswer:"Búho",imageUrl:"https://images.unsplash.com/photo-1557401751-376608588678?w=400",options:["Águila","Halcón","Búho","Cóndor"]}],fill_blank:[{sentence:"El ___ tiene plumas rosadas.",correctAnswer:"flamenco",options:["flamenco","águila","gorrión","búho"],translation:"The ___ has pink feathers."},{sentence:"El ___ caza de noche.",correctAnswer:"búho",options:["colibrí","flamenco","búho","pavo real"],translation:"The ___ hunts at night."},{sentence:"El ___ tiene una cola magnífica.",correctAnswer:"pavo real",options:["gorrión","paloma","pavo real","cuervo"],translation:"The ___ has a magnificent tail."}],multiple_choice:[{question:'¿Cómo se dice "wings" en español?',correctAnswer:"las alas",options:["las patas","las alas","las plumas","las garras"],explanation:"Alas = wings, used for flying"},{question:'¿Qué significa "el pico"?',correctAnswer:"beak",options:["wing","tail","beak","feather"],explanation:"El pico is the beak, used for eating"},{question:"¿Cuál pájaro es rosado?",correctAnswer:"el flamenco",options:["el águila","el búho","el cuervo","el flamenco"],explanation:"Flamingos are pink from their diet"}]},H=()=>{const[a,c]=r.useState(N.VISUAL_MATCH),[l,u]=r.useState(0),[h,p]=r.useState(null),[i,n]=r.useState(!1),[v,b]=r.useState(!1),[o,t]=r.useState(0),[d,E]=r.useState(0),[_,C]=r.useState(0),f=r.useRef(null),j=r.useCallback(()=>{switch(a){case N.VISUAL_MATCH:return m.visual_match[l%m.visual_match.length];case N.FILL_BLANK:return m.fill_blank[l%m.fill_blank.length];case N.MULTIPLE_CHOICE:return m.multiple_choice[l%m.multiple_choice.length];default:return m.visual_match[0]}},[a,l]),y=r.useCallback(()=>{p(null),n(!1),u(l+1);const s=Object.values(N),g=(s.indexOf(a)+1)%s.length;c(s[g])},[l,a]),A=r.useCallback(s=>{p(s);const w=j(),g=s.toLowerCase()===w.correctAnswer.toLowerCase();b(g),n(!0),E(x=>x+1),g?(t(x=>x+1),C(x=>x+1)):C(0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{y()},2e3)},[j,y]),T=r.useCallback(()=>{const s=j(),w="question"in s,g="sentence"in s,x="imageUrl"in s,S="translation"in s,I="explanation"in s;return e.jsx(M,{type:a,question:w?s.question:g?s.sentence:"",imageUrl:x?s.imageUrl:void 0,translation:S?s.translation:void 0,options:s.options,selectedAnswer:h,correctAnswer:s.correctAnswer,showFeedback:i,explanation:I?s.explanation:void 0,onAnswer:A})},[a,j,h,i,A]),k=r.useMemo(()=>d>0?Math.round(o/d*100):0,[o,d]);return r.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Practice Exercises"}),e.jsx(L,{to:"/learn",className:"text-blue-600 hover:text-blue-800 font-medium",children:"← Back to Learn"})]}),e.jsx(U,{score:o,accuracy:k,streak:_,totalAttempts:d})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:a.replace("_"," ").toUpperCase()})}),T(),i&&e.jsx(P,{isCorrect:v,correctAnswer:j().correctAnswer}),!i&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:y,className:"text-gray-500 hover:text-gray-700",children:"Skip this exercise →"})})]}),_>=5&&e.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-4 rounded-lg text-center",children:e.jsxs("p",{className:"text-lg font-bold",children:["🔥 You're on fire! ",_," in a row!"]})}),d>0&&d%10===0&&e.jsx("div",{className:"mt-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white p-4 rounded-lg text-center",children:e.jsxs("p",{className:"text-lg font-bold",children:["🎉 Milestone: ",d," exercises completed!"]})})]})})};export{H as EnhancedPracticePage};
