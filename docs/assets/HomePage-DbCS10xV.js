import{e as j,j as e}from"./index-B9ZQskjr.js";import{r as a,L as g}from"./react-vendor-DDsanEFO.js";import{a as o}from"./apiAdapter-BXZis0fm.js";import"./index-ngrFHoWO.js";const f=()=>{const[s,n]=a.useState(null),[l,h]=a.useState(!1),d=a.useCallback(()=>{let t=sessionStorage.getItem("aves-session-id");return t||(t=`session-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("aves-session-id",t)),t},[]),u=a.useCallback(async()=>{h(!0);const t=d();try{const r=await o.progress.get(t);if(r)n({...r,lastActivity:new Date(r.lastActivity),startedAt:new Date(r.startedAt)});else{const c={sessionId:t,termsDiscovered:[],exercisesCompleted:0,correctAnswers:0,incorrectAnswers:0,totalAnswers:0,currentStreak:0,longestStreak:0,lastActivity:new Date,startedAt:new Date,lastUpdated:new Date,vocabularyMastery:{},accuracy:0};n(c),await o.progress.save(c)}}catch(r){j("Error initializing progress",r instanceof Error?r:new Error(String(r))),n({sessionId:t,termsDiscovered:[],exercisesCompleted:0,correctAnswers:0,incorrectAnswers:0,totalAnswers:0,currentStreak:0,longestStreak:0,lastActivity:new Date,startedAt:new Date,lastUpdated:new Date,vocabularyMastery:{},accuracy:0})}finally{h(!1)}},[d]),v=a.useCallback(async t=>{if(s&&!s.termsDiscovered.includes(t)){const r={...s,termsDiscovered:[...s.termsDiscovered,t],lastActivity:new Date};n(r),await o.progress.save(r)}},[s]),b=a.useCallback(async t=>{if(!s)return;const r=t?s.correctAnswers+1:s.correctAnswers,c=t?s.incorrectAnswers:s.incorrectAnswers+1,i=s.totalAnswers+1,m=i>0?Math.round(r/i*100):0,x={...s,exercisesCompleted:s.exercisesCompleted+1,correctAnswers:r,incorrectAnswers:c,totalAnswers:i,accuracy:m,currentStreak:t?s.currentStreak+1:0,longestStreak:t&&s.currentStreak+1>s.longestStreak?s.currentStreak+1:s.longestStreak,lastActivity:new Date};n(x),await o.progress.save(x)},[s]),y=a.useCallback(async(t,r)=>{if(!s)return;const c=s.vocabularyMastery[t]||0,m=Math.max(0,Math.min(100,c+(r?10:-5))),x={...s,vocabularyMastery:{...s.vocabularyMastery,[t]:m},lastActivity:new Date};n(x),await o.progress.save(x)},[s]),p=a.useCallback(()=>{if(!s)return{termsLearned:0,exercisesCompleted:0,accuracy:0,currentStreak:0,longestStreak:0,sessionDuration:0,masteredTerms:0};const t=s.totalAnswers>0?Math.round(s.correctAnswers/s.totalAnswers*100):0,r=Math.round((new Date().getTime()-new Date(s.startedAt).getTime())/1e3/60),c=Object.values(s.vocabularyMastery).filter(i=>i>=80).length;return{termsLearned:s.termsDiscovered.length,exercisesCompleted:s.exercisesCompleted,accuracy:t,currentStreak:s.currentStreak,longestStreak:s.longestStreak,sessionDuration:r,masteredTerms:c}},[s]),w=a.useCallback(async()=>{const r={sessionId:d(),termsDiscovered:[],exercisesCompleted:0,correctAnswers:0,incorrectAnswers:0,totalAnswers:0,currentStreak:0,longestStreak:0,lastActivity:new Date,startedAt:new Date,lastUpdated:new Date,vocabularyMastery:{},accuracy:0};n(r),await o.progress.save(r)},[d]);return a.useEffect(()=>{u()},[]),{progress:s,loading:l,recordTermDiscovery:v,recordExerciseCompletion:b,updateVocabularyMastery:y,getStats:p,resetProgress:w,sessionId:(s==null?void 0:s.sessionId)||d()}},D=()=>{const{getStats:s,loading:n}=f(),l=s();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-green-50 to-yellow-50",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-green-600 to-blue-600",children:"Birds in Spanish"})}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Beautiful photos of birds. Real Spanish vocabulary. Natural learning."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(g,{to:"/learn",className:"px-8 py-4 bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Start Learning"}),e.jsx(g,{to:"/practice",className:"px-8 py-4 bg-white text-gray-800 font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Practice Exercises"})]})]})}),e.jsx("div",{className:"absolute top-20 left-10 text-4xl animate-bounce",children:"ü¶ú"}),e.jsx("div",{className:"absolute top-40 right-20 text-3xl animate-pulse",children:"ü¶Ö"}),e.jsx("div",{className:"absolute bottom-20 left-1/4 text-4xl animate-bounce delay-150",children:"ü¶©"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"Your Learning Progress"}),n?e.jsx("div",{className:"text-center text-gray-500",children:"Loading progress..."}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-transform",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-3xl",children:"üìö"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.termsLearned})]}),e.jsx("h3",{className:"text-gray-600 font-medium",children:"Terms Discovered"}),e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Spanish vocabulary learned"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-transform",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-3xl",children:"‚úèÔ∏è"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.exercisesCompleted})]}),e.jsx("h3",{className:"text-gray-600 font-medium",children:"Exercises Done"}),e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Practice sessions completed"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-transform",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-3xl",children:"üéØ"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.accuracy,"%"]})]}),e.jsx("h3",{className:"text-gray-600 font-medium",children:"Accuracy"}),e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Exercise success rate"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-transform",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-3xl",children:"üî•"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.currentStreak})]}),e.jsx("h3",{className:"text-gray-600 font-medium",children:"Current Streak"}),e.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Correct answers in a row"})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Session Time"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:[l.sessionDuration," min"]})]}),e.jsx("div",{className:"text-4xl",children:"‚è±Ô∏è"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Mastered Terms"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.masteredTerms})]}),e.jsx("div",{className:"text-4xl",children:"‚≠ê"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Best Streak"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:l.longestStreak})]}),e.jsx("div",{className:"text-4xl",children:"üèÜ"})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-800",children:"How It Works"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-400 to-blue-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-3xl",children:"1"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Explore Images"}),e.jsx("p",{className:"text-gray-600",children:"Click on bird photographs to discover Spanish vocabulary through interactive annotations"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-400 to-purple-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-3xl",children:"2"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Learn Progressively"}),e.jsx("p",{className:"text-gray-600",children:"Vocabulary reveals gradually from basic terms to etymology and contextual examples"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-400 to-pink-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-3xl",children:"3"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Practice & Master"}),e.jsx("p",{className:"text-gray-600",children:"Reinforce learning with interactive exercises and track your progress over time"})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Start Learning?"}),e.jsx("p",{className:"text-xl text-green-100 mb-8",children:"Join thousands discovering Spanish through the beauty of birds"}),e.jsx(g,{to:"/learn",className:"inline-block px-8 py-4 bg-white text-green-600 font-bold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Begin Your Journey"})]})})]})};export{D as HomePage};
