import{j as e,r as t,L as s}from"./react-vendor-8XroUam3.js";import"./vendor-Dmsy3jl6.js";const a=({score:t,accuracy:s,streak:a,totalAttempts:l})=>e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),e.jsx("p",{className:"text-sm text-gray-600",children:"Correct"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[s,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Accuracy"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a}),e.jsx("p",{className:"text-sm text-gray-600",children:"Streak"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total"})]})]}),l=({type:t,question:s,imageUrl:a,translation:l,options:n,selectedAnswer:r,correctAnswer:i,showFeedback:c,explanation:o,onAnswer:d})=>{const m=e=>c&&e===i?"bg-green-500 text-white":c&&e===r&&e!==i?"bg-red-500 text-white":r===e?"bg-blue-500 text-white":"bg-white border-2 border-gray-300 hover:border-blue-400";return"visual_match"===t?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-center",children:s}),a&&e.jsx("img",{src:a,alt:"Bird to identify",className:"w-full max-w-md mx-auto rounded-lg shadow-md"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(t=>e.jsx("button",{onClick:()=>!c&&d(t),disabled:c,className:`p-4 rounded-lg font-medium transition-all ${m(t)}`,children:t},t))})]}):"fill_blank"===t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:s}),l&&e.jsx("p",{className:"text-gray-600 italic",children:l})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-md mx-auto",children:n.map(t=>e.jsx("button",{onClick:()=>!c&&d(t),disabled:c,className:`p-3 rounded-lg font-medium transition-all ${m(t)}`,children:t},t))})]}):"multiple_choice"===t?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-semibold text-center",children:s}),e.jsx("div",{className:"space-y-3 max-w-md mx-auto",children:n.map(t=>e.jsx("button",{onClick:()=>!c&&d(t),disabled:c,className:`w-full p-4 text-left rounded-lg font-medium transition-all ${m(t)}`,children:t},t))}),c&&o&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg text-center",children:e.jsx("p",{className:"text-sm text-blue-700",children:o})})]}):null},n=({isCorrect:t,correctAnswer:s})=>e.jsx("div",{className:"mt-6 p-4 rounded-lg text-center "+(t?"bg-green-100":"bg-red-100"),children:e.jsx("p",{className:"text-lg font-bold "+(t?"text-green-700":"text-red-700"),children:t?"¡Excelente! Correct!":`Not quite. The answer was: ${s}`})}),r={VISUAL_MATCH:"visual_match",FILL_BLANK:"fill_blank",MULTIPLE_CHOICE:"multiple_choice",LISTENING:"listening"},i={visual_match:[{question:"Match the image to the Spanish name",correctAnswer:"Flamenco",imageUrl:"https://images.unsplash.com/photo-1535821265819-8e7ff3c30737?w=400",options:["Flamenco","Águila","Colibrí","Búho"]},{question:"Which bird is this?",correctAnswer:"Pavo Real",imageUrl:"https://images.unsplash.com/photo-1512990641230-7e91cc31d0dc?w=400",options:["Gorrión","Pavo Real","Paloma","Cuervo"]},{question:"Identify this bird",correctAnswer:"Búho",imageUrl:"https://images.unsplash.com/photo-1557401751-376608588678?w=400",options:["Águila","Halcón","Búho","Cóndor"]}],fill_blank:[{sentence:"El ___ tiene plumas rosadas.",correctAnswer:"flamenco",options:["flamenco","águila","gorrión","búho"],translation:"The ___ has pink feathers."},{sentence:"El ___ caza de noche.",correctAnswer:"búho",options:["colibrí","flamenco","búho","pavo real"],translation:"The ___ hunts at night."},{sentence:"El ___ tiene una cola magnífica.",correctAnswer:"pavo real",options:["gorrión","paloma","pavo real","cuervo"],translation:"The ___ has a magnificent tail."}],multiple_choice:[{question:'¿Cómo se dice "wings" en español?',correctAnswer:"las alas",options:["las patas","las alas","las plumas","las garras"],explanation:"Alas = wings, used for flying"},{question:'¿Qué significa "el pico"?',correctAnswer:"beak",options:["wing","tail","beak","feather"],explanation:"El pico is the beak, used for eating"},{question:"¿Cuál pájaro es rosado?",correctAnswer:"el flamenco",options:["el águila","el búho","el cuervo","el flamenco"],explanation:"Flamingos are pink from their diet"}]},c=()=>{const[c,o]=t.useState(r.VISUAL_MATCH),[d,m]=t.useState(0),[x,h]=t.useState(null),[u,p]=t.useState(!1),[g,b]=t.useState(!1),[w,j]=t.useState(0),[f,N]=t.useState(0),[v,_]=t.useState(0),A=t.useRef(null),k=t.useCallback(()=>{switch(c){case r.VISUAL_MATCH:return i.visual_match[d%i.visual_match.length];case r.FILL_BLANK:return i.fill_blank[d%i.fill_blank.length];case r.MULTIPLE_CHOICE:return i.multiple_choice[d%i.multiple_choice.length];default:return i.visual_match[0]}},[c,d]),C=t.useCallback(()=>{h(null),p(!1),m(d+1);const e=Object.values(r),t=(e.indexOf(c)+1)%e.length;o(e[t])},[d,c]),y=t.useCallback(e=>{h(e);const t=k(),s=e.toLowerCase()===t.correctAnswer.toLowerCase();b(s),p(!0),N(e=>e+1),s?(j(e=>e+1),_(e=>e+1)):_(0),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{C()},2e3)},[k,C]),L=t.useCallback(()=>{const t=k(),s="question"in t,a="sentence"in t,n="imageUrl"in t,r="translation"in t,i="explanation"in t;return e.jsx(l,{type:c,question:s?t.question:a?t.sentence:"",imageUrl:n?t.imageUrl:void 0,translation:r?t.translation:void 0,options:t.options,selectedAnswer:x,correctAnswer:t.correctAnswer,showFeedback:u,explanation:i?t.explanation:void 0,onAnswer:y})},[c,k,x,u,y]),S=t.useMemo(()=>f>0?Math.round(w/f*100):0,[w,f]);return t.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Practice Exercises"}),e.jsx(s,{to:"/learn",className:"text-blue-600 hover:text-blue-800 font-medium",children:"← Back to Learn"})]}),e.jsx(a,{score:w,accuracy:S,streak:v,totalAttempts:f})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:c.replace("_"," ").toUpperCase()})}),L(),u&&e.jsx(n,{isCorrect:g,correctAnswer:k().correctAnswer}),!u&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:C,className:"text-gray-500 hover:text-gray-700",children:"Skip this exercise →"})})]}),v>=5&&e.jsx("div",{className:"mt-6 bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-4 rounded-lg text-center",children:e.jsxs("p",{className:"text-lg font-bold",children:["🔥 You're on fire! ",v," in a row!"]})}),f>0&&f%10==0&&e.jsx("div",{className:"mt-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white p-4 rounded-lg text-center",children:e.jsxs("p",{className:"text-lg font-bold",children:["🎉 Milestone: ",f," exercises completed!"]})})]})})};export{c as EnhancedPracticePage};
