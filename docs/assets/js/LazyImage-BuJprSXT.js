import{r as e,j as t}from"./react-vendor-D6vaw4E_.js";const s=({src:s,alt:r,className:a="",placeholder:o,blurAmount:n=20,threshold:i=.01,rootMargin:l="50px",onLoad:c,onError:d})=>{const[u,m]=e.useState(!1),[f,h]=e.useState(!1),[x,g]=e.useState(!1),p=e.useRef(null);e.useEffect(()=>{if(!p.current)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(h(!0),e.disconnect())})},{threshold:i,rootMargin:l});return e.observe(p.current),()=>{e.disconnect()}},[i,l]);return t.jsxs("div",{ref:p,className:`relative overflow-hidden ${a}`,style:{backgroundColor:"#e5e7eb"},children:[t.jsx("img",{src:o||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:rgb(229,231,235);stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:rgb(209,213,219);stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='400' height='300' fill='url(%23grad)' /%3E%3C/svg%3E",alt:"","aria-hidden":"true",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-500 "+(u?"opacity-0":"opacity-100"),style:{filter:`blur(${n}px)`,transform:"scale(1.1)"}}),f&&!x&&t.jsx("img",{src:s,alt:r,onLoad:()=>{m(!0),c?.()},onError:()=>{g(!0),d?.()},crossOrigin:"anonymous",className:"relative w-full h-full object-cover transition-opacity duration-500 "+(u?"opacity-100":"opacity-0"),loading:"lazy"}),x&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.jsx("span",{className:"text-sm",children:"Image unavailable"})]})}),f&&!u&&!x&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})};export{s as L};
