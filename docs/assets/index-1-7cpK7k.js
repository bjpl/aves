var vt=Object.defineProperty;var Ct=(e,t,s)=>t in e?vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Fe=(e,t,s)=>Ct(e,typeof t!="symbol"?t+"":t,s);import{r as N,a as Tt,L as q,B as Ot,R as At,b as ie,c as _t}from"./react-vendor-BPIYoGmp.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var Ze={exports:{}},he={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt=N,Lt=Symbol.for("react.element"),kt=Symbol.for("react.fragment"),Ft=Object.prototype.hasOwnProperty,Bt=Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dt={key:!0,ref:!0,__self:!0,__source:!0};function et(e,t,s){var r,n={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Ft.call(t,r)&&!Dt.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Lt,type:e,key:o,ref:i,props:n,_owner:Bt.current}}he.Fragment=kt;he.jsx=et;he.jsxs=et;Ze.exports=he;var a=Ze.exports,Se={},Be=Tt;Se.createRoot=Be.createRoot,Se.hydrateRoot=Be.hydrateRoot;const Ut=()=>a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[a.jsxs("header",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"🦅 Aves"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Visual Spanish Bird Learning Platform"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(q,{to:"/learn",className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:"📚"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Learn Vocabulary"}),a.jsx("p",{className:"text-gray-600",children:"Explore bird images with interactive annotations and progressive vocabulary disclosure"})]}),a.jsxs(q,{to:"/practice",className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Practice Exercises"}),a.jsx("p",{className:"text-gray-600",children:"Test your knowledge with visual discrimination and contextual exercises"})]}),a.jsxs(q,{to:"/species",className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),a.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Species Browser"}),a.jsx("p",{className:"text-gray-600",children:"Browse all bird species by taxonomy, habitat, and characteristics"})]})]}),a.jsxs("div",{className:"mt-12 bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Learning Progress"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"0"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terms Learned"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:"0"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Exercises Completed"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"0"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Species Explored"})]})]})]})]})}),Mt={anatomical:"#3B82F6",behavioral:"#10B981",color:"#F59E0B",pattern:"#8B5CF6"},It=({imageUrl:e,annotations:t,onAnnotationHover:s,onAnnotationClick:r,interactive:n=!0,showLabels:o=!1})=>{const i=N.useRef(null),d=N.useRef(null),[f,u]=N.useState({width:0,height:0}),[c,m]=N.useState(null),[g,j]=N.useState(!1),h=N.useCallback(()=>{const y=new Image;y.crossOrigin="anonymous",y.onload=()=>{u({width:y.width,height:y.height}),j(!0),d.current=y,p()},y.src=e},[e]);N.useEffect(()=>{h()},[h]);const p=N.useCallback(()=>{const y=i.current,w=y==null?void 0:y.getContext("2d"),C=d.current;!y||!w||!C||!g||(y.width=f.width,y.height=f.height,w.clearRect(0,0,y.width,y.height),w.drawImage(C,0,0),t.forEach(S=>{const{boundingBox:_,type:T}=S,Y=Mt[T],J=(c==null?void 0:c.id)===S.id;w.strokeStyle=Y,w.lineWidth=J?3:2,w.setLineDash(J?[]:[5,5]);const M=_.topLeft.x,U=_.topLeft.y,F=_.width,re=_.height;w.strokeRect(M,U,F,re),(J||o)&&(w.fillStyle=Y,w.globalAlpha=.9,w.fillRect(M,U-25,F,25),w.globalAlpha=1,w.fillStyle="white",w.font="14px system-ui, -apple-system, sans-serif",w.textBaseline="middle",w.fillText(S.spanishTerm,M+5,U-12)),w.setLineDash([])}))},[t,f,c,g,o]);N.useEffect(()=>{p()},[p]);const x=y=>{for(const w of t){const{boundingBox:C}=w,{topLeft:S,width:_,height:T}=C;if(y.x>=S.x&&y.x<=S.x+_&&y.y>=S.y&&y.y<=S.y+T)return w}return null},R=y=>{if(!n||!i.current)return;const w=i.current.getBoundingClientRect(),C=f.width/w.width,S=f.height/w.height,_={x:(y.clientX-w.left)*C,y:(y.clientY-w.top)*S},T=x(_);T!==c&&(m(T),s==null||s(T),i.current.style.cursor=T?"pointer":"default")},A=y=>{if(!n||!i.current)return;const w=i.current.getBoundingClientRect(),C=f.width/w.width,S=f.height/w.height,_={x:(y.clientX-w.left)*C,y:(y.clientY-w.top)*S},T=x(_);T&&(r==null||r(T))},v=()=>{m(null),s==null||s(null)};return a.jsxs("div",{className:"relative inline-block max-w-full",children:[a.jsx("canvas",{ref:i,className:"max-w-full h-auto",style:{width:f.width?"100%":"auto",maxWidth:f.width},onMouseMove:R,onClick:A,onMouseLeave:v}),!g&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:a.jsx("div",{className:"text-gray-500",children:"Cargando imagen..."})})]})},$t=[{id:"1",imageId:"sample-1",boundingBox:{topLeft:{x:150,y:100},bottomRight:{x:250,y:150},width:100,height:50},type:"anatomical",spanishTerm:"pico",englishTerm:"beak",pronunciation:"PEE-koh",difficultyLevel:1,isVisible:!0,createdAt:new Date,updatedAt:new Date},{id:"2",imageId:"sample-1",boundingBox:{topLeft:{x:200,y:150},bottomRight:{x:280,y:200},width:80,height:50},type:"color",spanishTerm:"plumas rojas",englishTerm:"red feathers",pronunciation:"PLOO-mahs ROH-hahs",difficultyLevel:2,isVisible:!0,createdAt:new Date,updatedAt:new Date}],qt=()=>{const[e]=N.useState($t),[t,s]=N.useState(null),[,r]=N.useState({x:0,y:0}),[n,o]=N.useState(!1),i=f=>{s(f),o(!0),r({x:300,y:200})},d=f=>{f&&!n&&console.log("Hovering:",f.spanishTerm)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Interactive Learning"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Click on highlighted areas to learn vocabulary"}),a.jsx(It,{imageUrl:"https://images.unsplash.com/photo-1444464666168-49d633b86797?w=800",annotations:e,onAnnotationHover:d,onAnnotationClick:i,interactive:!0,showLabels:!1})]})}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Vocabulary"}),t?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.spanishTerm}),a.jsx("p",{className:"text-sm text-gray-500",children:t.pronunciation})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"English:"}),a.jsx("p",{className:"text-base font-medium",children:t.englishTerm})]})]}):a.jsx("p",{className:"text-gray-500",children:"Select an annotation to see details"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mt-4",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Progress"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Terms Discovered"}),a.jsx("span",{children:"2/10"})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"20%"}})})]})})]})]})]})]})})},Ht=({exercise:e,onAnswer:t,disabled:s=!1})=>{const[r,n]=N.useState(null),[o,i]=N.useState(!1),d=u=>{s||o||(n(u),i(!0),t(u))},f=u=>o?u===e.correctOptionId?"ring-2 ring-green-500 bg-green-50":r===u&&u!==e.correctOptionId?"ring-2 ring-red-500 bg-red-50":"opacity-50":r===u?"ring-2 ring-blue-500":"hover:ring-2 hover:ring-gray-300";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.instructions}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.targetTerm})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.options.map((u,c)=>a.jsxs("button",{onClick:()=>d(u.id),disabled:s||o,className:`
              relative p-4 rounded-lg border-2 transition-all
              ${f(u.id)}
              ${!o&&!s?"cursor-pointer":"cursor-default"}
            `,children:[a.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg mb-2 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:"🦅"})}),a.jsx("div",{className:"absolute top-2 left-2 bg-white rounded-full px-2 py-1 text-sm font-semibold",children:String.fromCharCode(65+c)}),o&&u.id===e.correctOptionId&&a.jsx("div",{className:"absolute top-2 right-2 text-green-500",children:"✓"}),o&&r===u.id&&u.id!==e.correctOptionId&&a.jsx("div",{className:"absolute top-2 right-2 text-red-500",children:"✗"})]},u.id))})]})},zt=({exercise:e,onAnswer:t,disabled:s=!1})=>{const[r,n]=N.useState(null),[o,i]=N.useState(!1),d=c=>{s||o||(n(c),i(!0),t(c))},f=c=>o?c===e.correctAnswer?"bg-green-500 text-white":r===c&&c!==e.correctAnswer?"bg-red-500 text-white":"bg-gray-100 text-gray-400 border border-gray-200":r===c?"bg-blue-500 text-white":"bg-white hover:bg-gray-50 text-gray-900 border border-gray-300",u=()=>{const c=e.sentence.split("___");return a.jsxs("p",{className:"text-xl leading-relaxed",children:[c[0],a.jsx("span",{className:"inline-block min-w-[100px] mx-2 pb-1 border-b-2 border-gray-400 text-center font-bold text-blue-600",children:o?a.jsx("span",{className:r===e.correctAnswer?"text-green-600":"text-red-600",children:r||"___"}):"___"}),c[1]]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e.instructions})}),a.jsx("div",{className:"bg-gray-50 p-6 rounded-lg",children:u()}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.options.map((c,m)=>a.jsxs("button",{onClick:()=>d(c),disabled:s||o,className:`
              px-4 py-3 rounded-lg font-medium transition-all
              ${f(c)}
              ${!o&&!s?"cursor-pointer":"cursor-default"}
            `,children:[a.jsxs("span",{className:"mr-2",children:[String.fromCharCode(65+m),"."]}),c,o&&c===e.correctAnswer&&a.jsx("span",{className:"ml-2",children:"✓"}),o&&r===c&&c!==e.correctAnswer&&a.jsx("span",{className:"ml-2",children:"✗"})]},c))}),o&&a.jsx("div",{className:`p-4 rounded-lg ${r===e.correctAnswer?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r===e.correctAnswer?a.jsx("p",{className:"font-semibold",children:"¡Correcto!"}):a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:"Incorrect."})," The answer was: ",a.jsx("strong",{children:e.correctAnswer})]})})]})};class ye{constructor(t){Fe(this,"annotations",[]);this.annotations=t}generateExercise(t){switch(t){case"visual_discrimination":return this.generateVisualDiscrimination();case"term_matching":return this.generateTermMatching();case"contextual_fill":return this.generateContextualFill();default:return null}}generateVisualDiscrimination(){if(this.annotations.length<4)return null;const t=[...this.annotations].sort(()=>Math.random()-.5),s=t[0],r=t.slice(1,4),n=[s,...r].sort(()=>Math.random()-.5).map(o=>({id:o.id,imageUrl:`/images/birds/${o.imageId}.jpg`,species:o.spanishTerm}));return{id:`vd_${Date.now()}`,type:"visual_discrimination",instructions:`¿Cuál imagen muestra: "${s.spanishTerm}"?`,targetTerm:s.spanishTerm,options:n,correctOptionId:s.id,annotation:s}}generateTermMatching(){if(this.annotations.length<4)return null;const t=[...this.annotations].sort(()=>Math.random()-.5).slice(0,4),s=t.map(o=>o.spanishTerm),r=[...t.map(o=>o.englishTerm)].sort(()=>Math.random()-.5),n=t.map(o=>({spanish:o.spanishTerm,english:o.englishTerm}));return{id:`tm_${Date.now()}`,type:"term_matching",instructions:"Match the Spanish terms with their English translations",spanishTerms:s,englishTerms:r,correctPairs:n}}generateContextualFill(){if(this.annotations.length<4)return null;const t=this.annotations[Math.floor(Math.random()*this.annotations.length)],s=this.annotations.filter(i=>i.id!==t.id&&i.type===t.type).slice(0,3).map(i=>i.spanishTerm),r=["El ___ del pájaro es de color rojo brillante.","Observé un ___ volando sobre el lago.","El ___ es una característica distintiva de esta especie.","Los científicos estudian el ___ para identificar la especie."],n=r[Math.floor(Math.random()*r.length)],o=[t.spanishTerm,...s].sort(()=>Math.random()-.5);return{id:`cf_${Date.now()}`,type:"contextual_fill",instructions:"Complete the sentence with the correct word",sentence:n,correctAnswer:t.spanishTerm,options:o,annotation:t}}static checkAnswer(t,s){switch(t.type){case"visual_discrimination":return s===t.correctOptionId;case"term_matching":const r=s;return t.correctPairs.every(n=>r.some(o=>o.spanish===n.spanish&&o.english===n.english));case"contextual_fill":return s===t.correctAnswer;default:return!1}}static generateFeedback(t,s){if(t){const r=["¡Excelente!","¡Muy bien!","¡Correcto!","¡Perfecto!"];return r[Math.floor(Math.random()*r.length)]}else switch(s.type){case"visual_discrimination":return`The correct answer was: ${s.targetTerm}`;case"contextual_fill":return`The correct answer was: ${s.correctAnswer}`;default:return"Incorrect. Try again!"}}}const Vt=({annotations:e})=>{const[t,s]=N.useState(null),[r]=N.useState(()=>new ye(e)),[n,o]=N.useState({sessionId:`session_${Date.now()}`,exercisesCompleted:0,correctAnswers:0,currentStreak:0,startedAt:new Date}),[i,d]=N.useState(!1),[f,u]=N.useState(null);N.useEffect(()=>{c()},[]);const c=()=>{const h=["visual_discrimination","contextual_fill"],p=h[Math.floor(Math.random()*h.length)],x=r.generateExercise(p);x&&(s(x),d(!1),u(null))},m=h=>{if(!t)return;const p=ye.checkAnswer(t,h),x=ye.generateFeedback(p,t),R={...n,exercisesCompleted:n.exercisesCompleted+1,correctAnswers:n.correctAnswers+(p?1:0),currentStreak:p?n.currentStreak+1:0};o(R),u({correct:p,feedback:x}),d(!0),setTimeout(()=>{c()},2500)},g=()=>{if(!t)return null;switch(t.type){case"visual_discrimination":return a.jsx(Ht,{exercise:t,onAnswer:m,disabled:i});case"contextual_fill":return a.jsx(zt,{exercise:t,onAnswer:m,disabled:i});default:return null}},j=n.exercisesCompleted>0?Math.round(n.correctAnswers/n.exercisesCompleted*100):0;return a.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Practice Session"}),a.jsx("button",{onClick:()=>c(),className:"text-sm text-blue-600 hover:text-blue-800",children:"Skip →"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.exercisesCompleted}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[j,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Accuracy"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.currentStreak}),a.jsx("p",{className:"text-sm text-gray-500",children:"Streak"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:g()}),i&&f&&a.jsxs("div",{className:`mt-4 p-4 rounded-lg text-center transition-all ${f.correct?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[a.jsx("p",{className:"text-lg font-bold",children:f.feedback}),a.jsx("p",{className:"text-sm mt-1",children:"Next exercise loading..."})]})]})},Jt=[{id:"1",imageId:"img1",boundingBox:{topLeft:{x:0,y:0},bottomRight:{x:100,y:100},width:100,height:100},type:"anatomical",spanishTerm:"pico",englishTerm:"beak",difficultyLevel:1,isVisible:!0,createdAt:new Date,updatedAt:new Date},{id:"2",imageId:"img2",boundingBox:{topLeft:{x:0,y:0},bottomRight:{x:100,y:100},width:100,height:100},type:"anatomical",spanishTerm:"ala",englishTerm:"wing",difficultyLevel:1,isVisible:!0,createdAt:new Date,updatedAt:new Date},{id:"3",imageId:"img3",boundingBox:{topLeft:{x:0,y:0},bottomRight:{x:100,y:100},width:100,height:100},type:"color",spanishTerm:"plumas",englishTerm:"feathers",difficultyLevel:1,isVisible:!0,createdAt:new Date,updatedAt:new Date},{id:"4",imageId:"img4",boundingBox:{topLeft:{x:0,y:0},bottomRight:{x:100,y:100},width:100,height:100},type:"anatomical",spanishTerm:"cola",englishTerm:"tail",difficultyLevel:1,isVisible:!0,createdAt:new Date,updatedAt:new Date}],Wt=()=>a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Practice Exercises"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Test your Spanish bird vocabulary knowledge"}),a.jsx(Vt,{annotations:Jt,onComplete:e=>{console.log("Session complete:",e)}})]})}),Kt=({species:e,onClick:t,viewMode:s="grid"})=>{const r=o=>{switch(o){case"LC":return"bg-green-100 text-green-800";case"NT":return"bg-yellow-100 text-yellow-800";case"VU":return"bg-orange-100 text-orange-800";case"EN":return"bg-red-100 text-red-800";case"CR":return"bg-red-200 text-red-900";default:return"bg-gray-100 text-gray-800"}},n=o=>{switch(o){case"small":return"🐦";case"medium":return"🦅";case"large":return"🦢";default:return"🦜"}};return s==="list"?a.jsxs("div",{onClick:()=>t==null?void 0:t(e),className:"flex items-center gap-4 p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer border border-gray-200",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center text-2xl",children:n(e.sizeCategory)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.spanishName}),a.jsx("p",{className:"text-sm text-gray-600",children:e.englishName}),a.jsx("p",{className:"text-xs text-gray-500 italic",children:e.scientificName})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500",children:e.familyName}),e.conservationStatus&&a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${r(e.conservationStatus)}`,children:e.conservationStatus})]}),a.jsx("div",{className:"flex gap-1",children:e.habitats.slice(0,2).map(o=>a.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:o},o))})]}):a.jsxs("div",{onClick:()=>t==null?void 0:t(e),className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all cursor-pointer overflow-hidden group",children:[a.jsxs("div",{className:"aspect-square bg-gradient-to-br from-gray-200 to-gray-300 relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-6xl opacity-50",children:n(e.sizeCategory)}),e.primaryImageUrl&&a.jsx("img",{src:e.primaryImageUrl,alt:e.spanishName,className:"w-full h-full object-cover",loading:"lazy"}),e.conservationStatus&&a.jsx("span",{className:`absolute top-2 right-2 text-xs px-2 py-1 rounded-full ${r(e.conservationStatus)}`,children:e.conservationStatus})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg group-hover:text-blue-600 transition-colors",children:e.spanishName}),a.jsx("p",{className:"text-sm text-gray-600",children:e.englishName}),a.jsx("p",{className:"text-xs text-gray-500 italic mt-1",children:e.scientificName}),a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsx("div",{className:"flex gap-1",children:e.primaryColors.slice(0,3).map(o=>a.jsx("span",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:o},title:o},o))}),a.jsx("span",{className:"text-xs text-gray-500",children:e.familyName})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:e.habitats.slice(0,2).map(o=>a.jsx("span",{className:"text-xs bg-green-50 text-green-700 px-2 py-1 rounded",children:o},o))}),e.annotationCount!==void 0&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("p",{className:"text-xs text-gray-500",children:[e.annotationCount," annotations available"]})})]})]})},Xt=({filters:e,onFilterChange:t,availableFilters:s})=>{const r=(i,d)=>{t({...e,[i]:d||void 0})},n=()=>{t({})},o=Object.values(e).filter(i=>i).length;return a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),o>0&&a.jsxs("button",{onClick:n,className:"text-sm text-blue-600 hover:text-blue-800",children:["Clear all (",o,")"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),a.jsx("input",{type:"text",value:e.searchTerm||"",onChange:i=>r("searchTerm",i.target.value),placeholder:"Spanish or English name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),a.jsxs("select",{value:e.orderName||"",onChange:i=>r("orderName",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Orders"}),s.orders.map(i=>a.jsx("option",{value:i,children:i},i))]})]}),e.orderName&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Family"}),a.jsxs("select",{value:e.familyName||"",onChange:i=>r("familyName",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Families"}),s.families.map(i=>a.jsx("option",{value:i,children:i},i))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),a.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(i=>a.jsx("button",{onClick:()=>r("sizeCategory",e.sizeCategory===i?null:i),className:`flex-1 px-3 py-2 rounded-md border text-sm capitalize transition-colors ${e.sizeCategory===i?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:i},i))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Habitat"}),a.jsxs("select",{value:e.habitat||"",onChange:i=>r("habitat",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"All Habitats"}),s.habitats.map(i=>a.jsx("option",{value:i,children:i},i))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.colors.map(i=>a.jsx("button",{onClick:()=>r("primaryColor",e.primaryColor===i?null:i),className:`w-full h-8 rounded border-2 transition-all ${e.primaryColor===i?"border-blue-500 ring-2 ring-blue-200":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:i},title:i},i))})]})]})};function tt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gt}=Object.prototype,{getPrototypeOf:Oe}=Object,{iterator:fe,toStringTag:st}=Symbol,me=(e=>t=>{const s=Gt.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),k=e=>(e=e.toLowerCase(),t=>me(t)===e),pe=e=>t=>typeof t===e,{isArray:X}=Array,K=pe("undefined");function Z(e){return e!==null&&!K(e)&&e.constructor!==null&&!K(e.constructor)&&P(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rt=k("ArrayBuffer");function Yt(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rt(e.buffer),t}const Qt=pe("string"),P=pe("function"),nt=pe("number"),ee=e=>e!==null&&typeof e=="object",Zt=e=>e===!0||e===!1,le=e=>{if(me(e)!=="object")return!1;const t=Oe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(st in e)&&!(fe in e)},es=e=>{if(!ee(e)||Z(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ts=k("Date"),ss=k("File"),rs=k("Blob"),ns=k("FileList"),is=e=>ee(e)&&P(e.pipe),os=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||P(e.append)&&((t=me(e))==="formdata"||t==="object"&&P(e.toString)&&e.toString()==="[object FormData]"))},as=k("URLSearchParams"),[ls,cs,ds,us]=["ReadableStream","Request","Response","Headers"].map(k),hs=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function te(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),X(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Z(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let d;for(r=0;r<i;r++)d=o[r],t.call(null,e[d],d,e)}}function it(e,t){if(Z(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,n;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const H=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ot=e=>!K(e)&&e!==H;function Ee(){const{caseless:e,skipUndefined:t}=ot(this)&&this||{},s={},r=(n,o)=>{const i=e&&it(s,o)||o;le(s[i])&&le(n)?s[i]=Ee(s[i],n):le(n)?s[i]=Ee({},n):X(n)?s[i]=n.slice():(!t||!K(n))&&(s[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&te(arguments[n],r);return s}const fs=(e,t,s,{allOwnKeys:r}={})=>(te(t,(n,o)=>{s&&P(n)?e[o]=tt(n,s):e[o]=n},{allOwnKeys:r}),e),ms=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ps=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},xs=(e,t,s,r)=>{let n,o,i;const d={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],(!r||r(i,e,t))&&!d[i]&&(t[i]=e[i],d[i]=!0);e=s!==!1&&Oe(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},gs=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},bs=e=>{if(!e)return null;if(X(e))return e;let t=e.length;if(!nt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},ys=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Oe(Uint8Array)),ws=(e,t)=>{const r=(e&&e[fe]).call(e);let n;for(;(n=r.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},Ns=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},js=k("HTMLFormElement"),Ss=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),De=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Es=k("RegExp"),at=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};te(s,(n,o)=>{let i;(i=t(n,o,e))!==!1&&(r[o]=i||n)}),Object.defineProperties(e,r)},Rs=e=>{at(e,(t,s)=>{if(P(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(P(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},vs=(e,t)=>{const s={},r=n=>{n.forEach(o=>{s[o]=!0})};return X(e)?r(e):r(String(e).split(t)),s},Cs=()=>{},Ts=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Os(e){return!!(e&&P(e.append)&&e[st]==="FormData"&&e[fe])}const As=e=>{const t=new Array(10),s=(r,n)=>{if(ee(r)){if(t.indexOf(r)>=0)return;if(Z(r))return r;if(!("toJSON"in r)){t[n]=r;const o=X(r)?[]:{};return te(r,(i,d)=>{const f=s(i,n+1);!K(f)&&(o[d]=f)}),t[n]=void 0,o}}return r};return s(e,0)},_s=k("AsyncFunction"),Ps=e=>e&&(ee(e)||P(e))&&P(e.then)&&P(e.catch),lt=((e,t)=>e?setImmediate:t?((s,r)=>(H.addEventListener("message",({source:n,data:o})=>{n===H&&o===s&&r.length&&r.shift()()},!1),n=>{r.push(n),H.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",P(H.postMessage)),Ls=typeof queueMicrotask<"u"?queueMicrotask.bind(H):typeof process<"u"&&process.nextTick||lt,ks=e=>e!=null&&P(e[fe]),l={isArray:X,isArrayBuffer:rt,isBuffer:Z,isFormData:os,isArrayBufferView:Yt,isString:Qt,isNumber:nt,isBoolean:Zt,isObject:ee,isPlainObject:le,isEmptyObject:es,isReadableStream:ls,isRequest:cs,isResponse:ds,isHeaders:us,isUndefined:K,isDate:ts,isFile:ss,isBlob:rs,isRegExp:Es,isFunction:P,isStream:is,isURLSearchParams:as,isTypedArray:ys,isFileList:ns,forEach:te,merge:Ee,extend:fs,trim:hs,stripBOM:ms,inherits:ps,toFlatObject:xs,kindOf:me,kindOfTest:k,endsWith:gs,toArray:bs,forEachEntry:ws,matchAll:Ns,isHTMLForm:js,hasOwnProperty:De,hasOwnProp:De,reduceDescriptors:at,freezeMethods:Rs,toObjectSet:vs,toCamelCase:Ss,noop:Cs,toFiniteNumber:Ts,findKey:it,global:H,isContextDefined:ot,isSpecCompliantForm:Os,toJSONObject:As,isAsyncFn:_s,isThenable:Ps,setImmediate:lt,asap:Ls,isIterable:ks};function b(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}l.inherits(b,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:l.toJSONObject(this.config),code:this.code,status:this.status}}});const ct=b.prototype,dt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dt[e]={value:e}});Object.defineProperties(b,dt);Object.defineProperty(ct,"isAxiosError",{value:!0});b.from=(e,t,s,r,n,o)=>{const i=Object.create(ct);l.toFlatObject(e,i,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const d=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return b.call(i,d,f,s,r,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const Fs=null;function Re(e){return l.isPlainObject(e)||l.isArray(e)}function ut(e){return l.endsWith(e,"[]")?e.slice(0,-2):e}function Ue(e,t,s){return e?e.concat(t).map(function(n,o){return n=ut(n),!s&&o?"["+n+"]":n}).join(s?".":""):t}function Bs(e){return l.isArray(e)&&!e.some(Re)}const Ds=l.toFlatObject(l,{},null,function(t){return/^is[A-Z]/.test(t)});function xe(e,t,s){if(!l.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=l.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!l.isUndefined(x[p])});const r=s.metaTokens,n=s.visitor||c,o=s.dots,i=s.indexes,f=(s.Blob||typeof Blob<"u"&&Blob)&&l.isSpecCompliantForm(t);if(!l.isFunction(n))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(l.isDate(h))return h.toISOString();if(l.isBoolean(h))return h.toString();if(!f&&l.isBlob(h))throw new b("Blob is not supported. Use a Buffer instead.");return l.isArrayBuffer(h)||l.isTypedArray(h)?f&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,p,x){let R=h;if(h&&!x&&typeof h=="object"){if(l.endsWith(p,"{}"))p=r?p:p.slice(0,-2),h=JSON.stringify(h);else if(l.isArray(h)&&Bs(h)||(l.isFileList(h)||l.endsWith(p,"[]"))&&(R=l.toArray(h)))return p=ut(p),R.forEach(function(v,y){!(l.isUndefined(v)||v===null)&&t.append(i===!0?Ue([p],y,o):i===null?p:p+"[]",u(v))}),!1}return Re(h)?!0:(t.append(Ue(x,p,o),u(h)),!1)}const m=[],g=Object.assign(Ds,{defaultVisitor:c,convertValue:u,isVisitable:Re});function j(h,p){if(!l.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+p.join("."));m.push(h),l.forEach(h,function(R,A){(!(l.isUndefined(R)||R===null)&&n.call(t,R,l.isString(A)?A.trim():A,p,g))===!0&&j(R,p?p.concat(A):[A])}),m.pop()}}if(!l.isObject(e))throw new TypeError("data must be an object");return j(e),t}function Me(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ae(e,t){this._pairs=[],e&&xe(e,this,t)}const ht=Ae.prototype;ht.append=function(t,s){this._pairs.push([t,s])};ht.toString=function(t){const s=t?function(r){return t.call(this,r,Me)}:Me;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function Us(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ft(e,t,s){if(!t)return e;const r=s&&s.encode||Us;l.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let o;if(n?o=n(t,s):o=l.isURLSearchParams(t)?t.toString():new Ae(t,s).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ie{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){l.forEach(this.handlers,function(r){r!==null&&t(r)})}}const mt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ms=typeof URLSearchParams<"u"?URLSearchParams:Ae,Is=typeof FormData<"u"?FormData:null,$s=typeof Blob<"u"?Blob:null,qs={isBrowser:!0,classes:{URLSearchParams:Ms,FormData:Is,Blob:$s},protocols:["http","https","file","blob","url","data"]},_e=typeof window<"u"&&typeof document<"u",ve=typeof navigator=="object"&&navigator||void 0,Hs=_e&&(!ve||["ReactNative","NativeScript","NS"].indexOf(ve.product)<0),zs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vs=_e&&window.location.href||"http://localhost",Js=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_e,hasStandardBrowserEnv:Hs,hasStandardBrowserWebWorkerEnv:zs,navigator:ve,origin:Vs},Symbol.toStringTag,{value:"Module"})),O={...Js,...qs};function Ws(e,t){return xe(e,new O.classes.URLSearchParams,{visitor:function(s,r,n,o){return O.isNode&&l.isBuffer(s)?(this.append(r,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Ks(e){return l.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Xs(e){const t={},s=Object.keys(e);let r;const n=s.length;let o;for(r=0;r<n;r++)o=s[r],t[o]=e[o];return t}function pt(e){function t(s,r,n,o){let i=s[o++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),f=o>=s.length;return i=!i&&l.isArray(n)?n.length:i,f?(l.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!d):((!n[i]||!l.isObject(n[i]))&&(n[i]=[]),t(s,r,n[i],o)&&l.isArray(n[i])&&(n[i]=Xs(n[i])),!d)}if(l.isFormData(e)&&l.isFunction(e.entries)){const s={};return l.forEachEntry(e,(r,n)=>{t(Ks(r),n,s,0)}),s}return null}function Gs(e,t,s){if(l.isString(e))try{return(t||JSON.parse)(e),l.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const se={transitional:mt,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,o=l.isObject(t);if(o&&l.isHTMLForm(t)&&(t=new FormData(t)),l.isFormData(t))return n?JSON.stringify(pt(t)):t;if(l.isArrayBuffer(t)||l.isBuffer(t)||l.isStream(t)||l.isFile(t)||l.isBlob(t)||l.isReadableStream(t))return t;if(l.isArrayBufferView(t))return t.buffer;if(l.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ws(t,this.formSerializer).toString();if((d=l.isFileList(t))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return xe(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||n?(s.setContentType("application/json",!1),Gs(t)):t}],transformResponse:[function(t){const s=this.transitional||se.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(l.isResponse(t)||l.isReadableStream(t))return t;if(t&&l.isString(t)&&(r&&!this.responseType||n)){const i=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(d){if(i)throw d.name==="SyntaxError"?b.from(d,b.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:O.classes.FormData,Blob:O.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};l.forEach(["delete","get","head","post","put","patch"],e=>{se.headers[e]={}});const Ys=l.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qs=e=>{const t={};let s,r,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),s=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!s||t[s]&&Ys[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},$e=Symbol("internals");function Q(e){return e&&String(e).trim().toLowerCase()}function ce(e){return e===!1||e==null?e:l.isArray(e)?e.map(ce):String(e)}function Zs(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const er=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function we(e,t,s,r,n){if(l.isFunction(r))return r.call(this,t,s);if(n&&(t=s),!!l.isString(t)){if(l.isString(r))return t.indexOf(r)!==-1;if(l.isRegExp(r))return r.test(t)}}function tr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function sr(e,t){const s=l.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(n,o,i){return this[r].call(this,t,n,o,i)},configurable:!0})})}let L=class{constructor(t){t&&this.set(t)}set(t,s,r){const n=this;function o(d,f,u){const c=Q(f);if(!c)throw new Error("header name must be a non-empty string");const m=l.findKey(n,c);(!m||n[m]===void 0||u===!0||u===void 0&&n[m]!==!1)&&(n[m||f]=ce(d))}const i=(d,f)=>l.forEach(d,(u,c)=>o(u,c,f));if(l.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(l.isString(t)&&(t=t.trim())&&!er(t))i(Qs(t),s);else if(l.isObject(t)&&l.isIterable(t)){let d={},f,u;for(const c of t){if(!l.isArray(c))throw TypeError("Object iterator must return a key-value pair");d[u=c[0]]=(f=d[u])?l.isArray(f)?[...f,c[1]]:[f,c[1]]:c[1]}i(d,s)}else t!=null&&o(s,t,r);return this}get(t,s){if(t=Q(t),t){const r=l.findKey(this,t);if(r){const n=this[r];if(!s)return n;if(s===!0)return Zs(n);if(l.isFunction(s))return s.call(this,n,r);if(l.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Q(t),t){const r=l.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||we(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let n=!1;function o(i){if(i=Q(i),i){const d=l.findKey(r,i);d&&(!s||we(r,r[d],d,s))&&(delete r[d],n=!0)}}return l.isArray(t)?t.forEach(o):o(t),n}clear(t){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const o=s[r];(!t||we(this,this[o],o,t,!0))&&(delete this[o],n=!0)}return n}normalize(t){const s=this,r={};return l.forEach(this,(n,o)=>{const i=l.findKey(r,o);if(i){s[i]=ce(n),delete s[o];return}const d=t?tr(o):String(o).trim();d!==o&&delete s[o],s[d]=ce(n),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return l.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=t&&l.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[$e]=this[$e]={accessors:{}}).accessors,n=this.prototype;function o(i){const d=Q(i);r[d]||(sr(n,i),r[d]=!0)}return l.isArray(t)?t.forEach(o):o(t),this}};L.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);l.reduceDescriptors(L.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});l.freezeMethods(L);function Ne(e,t){const s=this||se,r=t||s,n=L.from(r.headers);let o=r.data;return l.forEach(e,function(d){o=d.call(s,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function xt(e){return!!(e&&e.__CANCEL__)}function G(e,t,s){b.call(this,e??"canceled",b.ERR_CANCELED,t,s),this.name="CanceledError"}l.inherits(G,b,{__CANCEL__:!0});function gt(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new b("Request failed with status code "+s.status,[b.ERR_BAD_REQUEST,b.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function rr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nr(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n=0,o=0,i;return t=t!==void 0?t:1e3,function(f){const u=Date.now(),c=r[o];i||(i=u),s[n]=f,r[n]=u;let m=o,g=0;for(;m!==n;)g+=s[m++],m=m%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),u-i<t)return;const j=c&&u-c;return j?Math.round(g*1e3/j):void 0}}function ir(e,t){let s=0,r=1e3/t,n,o;const i=(u,c=Date.now())=>{s=c,n=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const c=Date.now(),m=c-s;m>=r?i(u,c):(n=u,o||(o=setTimeout(()=>{o=null,i(n)},r-m)))},()=>n&&i(n)]}const ue=(e,t,s=3)=>{let r=0;const n=nr(50,250);return ir(o=>{const i=o.loaded,d=o.lengthComputable?o.total:void 0,f=i-r,u=n(f),c=i<=d;r=i;const m={loaded:i,total:d,progress:d?i/d:void 0,bytes:f,rate:u||void 0,estimated:u&&d&&c?(d-i)/u:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(m)},s)},qe=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},He=e=>(...t)=>l.asap(()=>e(...t)),or=O.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,O.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(O.origin),O.navigator&&/(msie|trident)/i.test(O.navigator.userAgent)):()=>!0,ar=O.hasStandardBrowserEnv?{write(e,t,s,r,n,o){const i=[e+"="+encodeURIComponent(t)];l.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),l.isString(r)&&i.push("path="+r),l.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bt(e,t,s){let r=!lr(t);return e&&(r||s==!1)?cr(e,t):t}const ze=e=>e instanceof L?{...e}:e;function V(e,t){t=t||{};const s={};function r(u,c,m,g){return l.isPlainObject(u)&&l.isPlainObject(c)?l.merge.call({caseless:g},u,c):l.isPlainObject(c)?l.merge({},c):l.isArray(c)?c.slice():c}function n(u,c,m,g){if(l.isUndefined(c)){if(!l.isUndefined(u))return r(void 0,u,m,g)}else return r(u,c,m,g)}function o(u,c){if(!l.isUndefined(c))return r(void 0,c)}function i(u,c){if(l.isUndefined(c)){if(!l.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function d(u,c,m){if(m in t)return r(u,c);if(m in e)return r(void 0,u)}const f={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(u,c,m)=>n(ze(u),ze(c),m,!0)};return l.forEach(Object.keys({...e,...t}),function(c){const m=f[c]||n,g=m(e[c],t[c],c);l.isUndefined(g)&&m!==d||(s[c]=g)}),s}const yt=e=>{const t=V({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:d}=t;if(t.headers=i=L.from(i),t.url=ft(bt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),l.isFormData(s)){if(O.hasStandardBrowserEnv||O.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(l.isFunction(s.getHeaders)){const f=s.getHeaders(),u=["content-type","content-length"];Object.entries(f).forEach(([c,m])=>{u.includes(c.toLowerCase())&&i.set(c,m)})}}if(O.hasStandardBrowserEnv&&(r&&l.isFunction(r)&&(r=r(t)),r||r!==!1&&or(t.url))){const f=n&&o&&ar.read(o);f&&i.set(n,f)}return t},dr=typeof XMLHttpRequest<"u",ur=dr&&function(e){return new Promise(function(s,r){const n=yt(e);let o=n.data;const i=L.from(n.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:u}=n,c,m,g,j,h;function p(){j&&j(),h&&h(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let x=new XMLHttpRequest;x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout;function R(){if(!x)return;const v=L.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),w={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:v,config:e,request:x};gt(function(S){s(S),p()},function(S){r(S),p()},w),x=null}"onloadend"in x?x.onloadend=R:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(R)},x.onabort=function(){x&&(r(new b("Request aborted",b.ECONNABORTED,e,x)),x=null)},x.onerror=function(y){const w=y&&y.message?y.message:"Network Error",C=new b(w,b.ERR_NETWORK,e,x);C.event=y||null,r(C),x=null},x.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const w=n.transitional||mt;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),r(new b(y,w.clarifyTimeoutError?b.ETIMEDOUT:b.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&l.forEach(i.toJSON(),function(y,w){x.setRequestHeader(w,y)}),l.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),d&&d!=="json"&&(x.responseType=n.responseType),u&&([g,h]=ue(u,!0),x.addEventListener("progress",g)),f&&x.upload&&([m,j]=ue(f),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",j)),(n.cancelToken||n.signal)&&(c=v=>{x&&(r(!v||v.type?new G(null,e,x):v),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const A=rr(n.url);if(A&&O.protocols.indexOf(A)===-1){r(new b("Unsupported protocol "+A+":",b.ERR_BAD_REQUEST,e));return}x.send(o||null)})},hr=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,n;const o=function(u){if(!n){n=!0,d();const c=u instanceof Error?u:this.reason;r.abort(c instanceof b?c:new G(c instanceof Error?c.message:c))}};let i=t&&setTimeout(()=>{i=null,o(new b(`timeout ${t} of ms exceeded`,b.ETIMEDOUT))},t);const d=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>l.asap(d),f}},fr=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,n;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},mr=async function*(e,t){for await(const s of pr(e))yield*fr(s,t)},pr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Ve=(e,t,s,r)=>{const n=mr(e,t);let o=0,i,d=f=>{i||(i=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:u,value:c}=await n.next();if(u){d(),f.close();return}let m=c.byteLength;if(s){let g=o+=m;s(g)}f.enqueue(new Uint8Array(c))}catch(u){throw d(u),u}},cancel(f){return d(f),n.return()}},{highWaterMark:2})},Je=64*1024,{isFunction:oe}=l,xr=(({Request:e,Response:t})=>({Request:e,Response:t}))(l.global),{ReadableStream:We,TextEncoder:Ke}=l.global,Xe=(e,...t)=>{try{return!!e(...t)}catch{return!1}},gr=e=>{e=l.merge.call({skipUndefined:!0},xr,e);const{fetch:t,Request:s,Response:r}=e,n=t?oe(t):typeof fetch=="function",o=oe(s),i=oe(r);if(!n)return!1;const d=n&&oe(We),f=n&&(typeof Ke=="function"?(h=>p=>h.encode(p))(new Ke):async h=>new Uint8Array(await new s(h).arrayBuffer())),u=o&&d&&Xe(()=>{let h=!1;const p=new s(O.origin,{body:new We,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!p}),c=i&&d&&Xe(()=>l.isReadableStream(new r("").body)),m={stream:c&&(h=>h.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!m[h]&&(m[h]=(p,x)=>{let R=p&&p[h];if(R)return R.call(p);throw new b(`Response type '${h}' is not supported`,b.ERR_NOT_SUPPORT,x)})});const g=async h=>{if(h==null)return 0;if(l.isBlob(h))return h.size;if(l.isSpecCompliantForm(h))return(await new s(O.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(l.isArrayBufferView(h)||l.isArrayBuffer(h))return h.byteLength;if(l.isURLSearchParams(h)&&(h=h+""),l.isString(h))return(await f(h)).byteLength},j=async(h,p)=>{const x=l.toFiniteNumber(h.getContentLength());return x??g(p)};return async h=>{let{url:p,method:x,data:R,signal:A,cancelToken:v,timeout:y,onDownloadProgress:w,onUploadProgress:C,responseType:S,headers:_,withCredentials:T="same-origin",fetchOptions:Y}=yt(h),J=t||fetch;S=S?(S+"").toLowerCase():"text";let M=hr([A,v&&v.toAbortSignal()],y),U=null;const F=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let re;try{if(C&&u&&x!=="get"&&x!=="head"&&(re=await j(_,R))!==0){let $=new s(p,{method:"POST",body:R,duplex:"half"}),W;if(l.isFormData(R)&&(W=$.headers.get("content-type"))&&_.setContentType(W),$.body){const[be,ne]=qe(re,ue(He(C)));R=Ve($.body,Je,be,ne)}}l.isString(T)||(T=T?"include":"omit");const B=o&&"credentials"in s.prototype,Pe={...Y,signal:M,method:x.toUpperCase(),headers:_.normalize().toJSON(),body:R,duplex:"half",credentials:B?T:void 0};U=o&&new s(p,Pe);let I=await(o?J(U,Y):J(p,Pe));const Le=c&&(S==="stream"||S==="response");if(c&&(w||Le&&F)){const $={};["status","statusText","headers"].forEach(ke=>{$[ke]=I[ke]});const W=l.toFiniteNumber(I.headers.get("content-length")),[be,ne]=w&&qe(W,ue(He(w),!0))||[];I=new r(Ve(I.body,Je,be,()=>{ne&&ne(),F&&F()}),$)}S=S||"text";let Rt=await m[l.findKey(m,S)||"text"](I,h);return!Le&&F&&F(),await new Promise(($,W)=>{gt($,W,{data:Rt,headers:L.from(I.headers),status:I.status,statusText:I.statusText,config:h,request:U})})}catch(B){throw F&&F(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new b("Network Error",b.ERR_NETWORK,h,U),{cause:B.cause||B}):b.from(B,B&&B.code,h,U)}}},br=new Map,wt=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:n}=t,o=[r,n,s];let i=o.length,d=i,f,u,c=br;for(;d--;)f=o[d],u=c.get(f),u===void 0&&c.set(f,u=d?new Map:gr(t)),c=u;return u};wt();const Ce={http:Fs,xhr:ur,fetch:{get:wt}};l.forEach(Ce,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ge=e=>`- ${e}`,yr=e=>l.isFunction(e)||e===null||e===!1,Nt={getAdapter:(e,t)=>{e=l.isArray(e)?e:[e];const{length:s}=e;let r,n;const o={};for(let i=0;i<s;i++){r=e[i];let d;if(n=r,!yr(r)&&(n=Ce[(d=String(r)).toLowerCase()],n===void 0))throw new b(`Unknown adapter '${d}'`);if(n&&(l.isFunction(n)||(n=n.get(t))))break;o[d||"#"+i]=n}if(!n){const i=Object.entries(o).map(([f,u])=>`adapter ${f} `+(u===!1?"is not supported by the environment":"is not available in the build"));let d=s?i.length>1?`since :
`+i.map(Ge).join(`
`):" "+Ge(i[0]):"as no adapter specified";throw new b("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return n},adapters:Ce};function je(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new G(null,e)}function Ye(e){return je(e),e.headers=L.from(e.headers),e.data=Ne.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nt.getAdapter(e.adapter||se.adapter,e)(e).then(function(r){return je(e),r.data=Ne.call(e,e.transformResponse,r),r.headers=L.from(r.headers),r},function(r){return xt(r)||(je(e),r&&r.response&&(r.response.data=Ne.call(e,e.transformResponse,r.response),r.response.headers=L.from(r.response.headers))),Promise.reject(r)})}const jt="1.12.2",ge={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ge[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Qe={};ge.transitional=function(t,s,r){function n(o,i){return"[Axios v"+jt+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,d)=>{if(t===!1)throw new b(n(i," has been removed"+(s?" in "+s:"")),b.ERR_DEPRECATED);return s&&!Qe[i]&&(Qe[i]=!0,console.warn(n(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,d):!0}};ge.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function wr(e,t,s){if(typeof e!="object")throw new b("options must be an object",b.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const o=r[n],i=t[o];if(i){const d=e[o],f=d===void 0||i(d,o,e);if(f!==!0)throw new b("option "+o+" must be "+f,b.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new b("Unknown option "+o,b.ERR_BAD_OPTION)}}const de={assertOptions:wr,validators:ge},D=de.validators;let z=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ie,response:new Ie}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=V(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:o}=s;r!==void 0&&de.assertOptions(r,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1),n!=null&&(l.isFunction(n)?s.paramsSerializer={serialize:n}:de.assertOptions(n,{encode:D.function,serialize:D.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),de.assertOptions(s,{baseUrl:D.spelling("baseURL"),withXsrfToken:D.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&l.merge(o.common,o[s.method]);o&&l.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),s.headers=L.concat(i,o);const d=[];let f=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(s)===!1||(f=f&&p.synchronous,d.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,m=0,g;if(!f){const h=[Ye.bind(this),void 0];for(h.unshift(...d),h.push(...u),g=h.length,c=Promise.resolve(s);m<g;)c=c.then(h[m++],h[m++]);return c}g=d.length;let j=s;for(;m<g;){const h=d[m++],p=d[m++];try{j=h(j)}catch(x){p.call(this,x);break}}try{c=Ye.call(this,j)}catch(h){return Promise.reject(h)}for(m=0,g=u.length;m<g;)c=c.then(u[m++],u[m++]);return c}getUri(t){t=V(this.defaults,t);const s=bt(t.baseURL,t.url,t.allowAbsoluteUrls);return ft(s,t.params,t.paramsSerializer)}};l.forEach(["delete","get","head","options"],function(t){z.prototype[t]=function(s,r){return this.request(V(r||{},{method:t,url:s,data:(r||{}).data}))}});l.forEach(["post","put","patch"],function(t){function s(r){return function(o,i,d){return this.request(V(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}z.prototype[t]=s(),z.prototype[t+"Form"]=s(!0)});let Nr=class St{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(d=>{r.subscribe(d),o=d}).then(n);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,d){r.reason||(r.reason=new G(o,i,d),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new St(function(n){t=n}),cancel:t}}};function jr(e){return function(s){return e.apply(null,s)}}function Sr(e){return l.isObject(e)&&e.isAxiosError===!0}const Te={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Te).forEach(([e,t])=>{Te[t]=e});function Et(e){const t=new z(e),s=tt(z.prototype.request,t);return l.extend(s,z.prototype,t,{allOwnKeys:!0}),l.extend(s,t,null,{allOwnKeys:!0}),s.create=function(n){return Et(V(e,n))},s}const E=Et(se);E.Axios=z;E.CanceledError=G;E.CancelToken=Nr;E.isCancel=xt;E.VERSION=jt;E.toFormData=xe;E.AxiosError=b;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=jr;E.isAxiosError=Sr;E.mergeConfig=V;E.AxiosHeaders=L;E.formToJSON=e=>pt(l.isHTMLForm(e)?new FormData(e):e);E.getAdapter=Nt.getAdapter;E.HttpStatusCode=Te;E.default=E;const{Axios:Pr,AxiosError:Lr,CanceledError:kr,isCancel:Fr,CancelToken:Br,VERSION:Dr,all:Ur,Cancel:Mr,isAxiosError:Ir,spread:$r,toFormData:qr,AxiosHeaders:Hr,HttpStatusCode:zr,formToJSON:Vr,getAdapter:Jr,mergeConfig:Wr}=E,ae="/api",Er=()=>{const[e,t]=N.useState([]),[s,r]=N.useState(!1),[n,o]=N.useState(null),i=N.useCallback(async()=>{r(!0),o(null);try{const c=await E.get(`${ae}/species`);t(c.data.species)}catch(c){o("Failed to load species"),console.error("Error fetching species:",c)}finally{r(!1)}},[]),d=N.useCallback(async c=>{try{return(await E.get(`${ae}/species/${c}`)).data}catch(m){return console.error("Error fetching species details:",m),null}},[]),f=N.useCallback(async c=>{try{return(await E.get(`${ae}/species/search`,{params:{q:c}})).data.results}catch(m){return console.error("Error searching species:",m),[]}},[]),u=N.useCallback(async()=>{try{return(await E.get(`${ae}/species/stats`)).data}catch(c){return console.error("Error fetching species stats:",c),null}},[]);return{species:e,loading:s,error:n,fetchSpecies:i,fetchSpeciesById:d,searchSpecies:f,getSpeciesStats:u}},Rr=()=>{const{species:e,loading:t,error:s,fetchSpecies:r}=Er(),[n,o]=N.useState({}),[i,d]=N.useState("grid");N.useEffect(()=>{r()},[]);const f=N.useMemo(()=>{let m=[...e];if(n.searchTerm){const g=n.searchTerm.toLowerCase();m=m.filter(j=>j.spanishName.toLowerCase().includes(g)||j.englishName.toLowerCase().includes(g)||j.scientificName.toLowerCase().includes(g))}return n.orderName&&(m=m.filter(g=>g.orderName===n.orderName)),n.familyName&&(m=m.filter(g=>g.familyName===n.familyName)),n.sizeCategory&&(m=m.filter(g=>g.sizeCategory===n.sizeCategory)),n.habitat&&(m=m.filter(g=>g.habitats.includes(n.habitat))),n.primaryColor&&(m=m.filter(g=>g.primaryColors.includes(n.primaryColor))),m},[e,n]),u=N.useMemo(()=>{const m=[...new Set(e.map(p=>p.orderName))].sort(),g=n.orderName?[...new Set(e.filter(p=>p.orderName===n.orderName).map(p=>p.familyName))].sort():[...new Set(e.map(p=>p.familyName))].sort(),j=[...new Set(e.flatMap(p=>p.habitats))].sort(),h=[...new Set(e.flatMap(p=>p.primaryColors))].sort();return{orders:m,families:g,habitats:j,colors:h}},[e,n.orderName]),c=m=>{console.log("Selected species:",m)};return t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading species..."})}):s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-red-500",children:["Error loading species: ",s]})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Species Browser"}),a.jsxs("p",{className:"text-gray-600",children:["Explore ",e.length," bird species with Spanish vocabulary"]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-64 flex-shrink-0",children:a.jsx(Xt,{filters:n,onFilterChange:o,availableFilters:u})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",f.length," of ",e.length," species"]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>d("grid"),className:`p-2 rounded ${i==="grid"?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":"Grid view",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM13 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2z"})})}),a.jsx("button",{onClick:()=>d("list"),className:`p-2 rounded ${i==="list"?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":"List view",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})})]}),f.length===0?a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[a.jsx("p",{className:"text-gray-500",children:"No species found matching your filters."}),a.jsx("button",{onClick:()=>o({}),className:"mt-4 text-blue-600 hover:text-blue-800",children:"Clear filters"})]}):a.jsx("div",{className:i==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:f.map(m=>a.jsx(Kt,{species:m,onClick:c,viewMode:i},m.id))})]})]})]})},vr=()=>a.jsx(Rr,{});function Cr(){return a.jsx(Ot,{children:a.jsxs("div",{className:"min-h-screen",children:[a.jsx("nav",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between h-16",children:a.jsxs("div",{className:"flex",children:[a.jsxs(q,{to:"/",className:"flex items-center px-2 py-2 text-gray-900 hover:text-gray-700",children:[a.jsx("span",{className:"text-2xl mr-2",children:"🦅"}),a.jsx("span",{className:"font-bold text-xl",children:"Aves"})]}),a.jsxs("div",{className:"ml-6 flex space-x-4",children:[a.jsx(q,{to:"/learn",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Learn"}),a.jsx(q,{to:"/practice",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Practice"}),a.jsx(q,{to:"/species",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Species"})]})]})})})}),a.jsxs(At,{children:[a.jsx(ie,{path:"/",element:a.jsx(Ut,{})}),a.jsx(ie,{path:"/learn",element:a.jsx(qt,{})}),a.jsx(ie,{path:"/practice",element:a.jsx(Wt,{})}),a.jsx(ie,{path:"/species",element:a.jsx(vr,{})})]})]})})}Se.createRoot(document.getElementById("root")).render(a.jsx(_t.StrictMode,{children:a.jsx(Cr,{})}));
