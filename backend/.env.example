# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=aves
DB_USER=postgres
DB_PASSWORD=postgres

# Database Connection Pool (Performance Optimization)
DB_POOL_MAX=20            # Maximum number of connections in pool
DB_POOL_MIN=5             # Minimum number of connections to maintain
DB_STATEMENT_TIMEOUT=10000 # Statement timeout in milliseconds (10s)
DB_QUERY_TIMEOUT=10000    # Query timeout in milliseconds (10s)
DB_DEBUG=false            # Enable detailed connection pool logging

# Database SSL Configuration (Production)
# Set to 'true' in production to enable encrypted database connections
DB_SSL_ENABLED=false
# Optional: Path to Certificate Authority certificate for SSL verification
# DB_SSL_CA=/path/to/ca-certificate.crt

# Server Configuration
PORT=3001
NODE_ENV=development
FRONTEND_URL=http://localhost:5173

# JWT Authentication
# SECURITY CRITICAL: In production, use a strong random secret (min 32 characters)
# Generate a strong secret with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# NEVER use default values in production - the server will reject weak secrets
JWT_SECRET=your-secret-key-here-change-in-production
JWT_EXPIRES_IN=24h

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# External APIs
UNSPLASH_ACCESS_KEY=your_unsplash_key_here
UNSPLASH_SECRET_KEY=your_unsplash_secret_here

# Anthropic Claude Configuration (Primary AI Provider)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-5-20250629
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# Legacy OpenAI Configuration (deprecated - migrated to Claude on Oct 5, 2025)
# OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_MODEL=gpt-4o
# OPENAI_VISION_MODEL=gpt-4o

# AI Feature Flags
ENABLE_VISION_AI=true
VISION_PROVIDER=claude
ENABLE_IMAGE_GENERATION=false
ENABLE_IMAGE_ANALYSIS=true
ENABLE_EXERCISE_GENERATION=true

# AI Rate Limiting
VISION_API_TIMEOUT=30000
VISION_API_MAX_RETRIES=3
VISION_API_RETRY_DELAY=1000
VISION_RATE_LIMIT_PER_MINUTE=20

# Express Rate Limiting Configuration
# Window in milliseconds (default: 15 minutes = 900000ms)
RATE_LIMIT_WINDOW_MS=900000
# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100
# Message shown when rate limit is exceeded
RATE_LIMIT_MESSAGE=Too many requests, please try again later

# Cost Tracking
ENABLE_COST_TRACKING=true
COST_ALERT_THRESHOLD=10.00
